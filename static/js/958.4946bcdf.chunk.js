"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[958],{958:function(e,n,t){t.r(n),t.d(n,{default:function(){return $}});var r,i,o=t(1413),a=t(5705),s=t(5985),c=(t(5462),t(5984)),l=t(168),d=t(225),u=(0,d.Z)(a.l0)(r||(r=(0,l.Z)(["\n  width: 500px;\n  margin: 15px auto 0;\n  padding: 15px;\n  border: 2px solid #1976d2;\n  border-radius: 4px;\n  box-shadow: rgba(0, 0, 0, 0.2) 0px 5px 15px;\n  label {\n    display: block;\n  }\n  span {\n    display: block;\n\n    margin-bottom: 5px;\n    font-weight: 500;\n  }\n  label: nth-of-type(2) span {\n    margin-top: 15px;\n  }\n"]))),h=t(8007),p=t(6141),m=t(4420),x=function(e){return e.contacts.contacts},b=function(e){return e.contacts.isLoading},g=function(e){return e.contacts.error},v=t(8893),f=t(697),Z=t(8771),j=t(8571),w=t(3329),C=(0,h.Ry)({name:(0,h.Z_)().min(3,"Must be at least 3 characters").required(),number:(0,h.Rx)().required().typeError("Must be a number").positive().integer()}),k=function(){var e=(0,m.v9)(x),n=(0,m.v9)(b),t=(0,m.I0)();return(0,w.jsx)(a.J9,{initialValues:{name:"",number:""},onSubmit:function(n,r){var i=r.resetForm,o=n.name,a=n.number,l={id:(0,c.x0)(),name:o,number:a};(null===e||void 0===e?void 0:e.find((function(e){return e.name.toLowerCase()===o.toLowerCase()})))?s.Am.error("".concat(o," is already in contacts."),{position:"top-center",autoClose:1e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}):(t((0,v.G3)(l)),s.Am.success("Contact is added!",{position:"top-center",autoClose:1e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),i())},validationSchema:C,children:function(e){var t=e.handleSubmit,r=e.getFieldProps,i=e.touched,a=e.errors;return(0,w.jsxs)(u,{children:[(0,w.jsx)(f.Z,{mb:2,children:(0,w.jsx)(Z.Z,(0,o.Z)((0,o.Z)({fullWidth:!0,id:"name",name:"name",label:"Name",variant:"outlined"},r("name")),{},{error:i.name&&Boolean(a.name),helperText:i.name&&a.name}))}),(0,w.jsx)(f.Z,{mb:2,children:(0,w.jsx)(Z.Z,(0,o.Z)((0,o.Z)({fullWidth:!0,id:"number",name:"number",label:"Number",type:"tel",variant:"outlined"},r("number")),{},{error:i.number&&Boolean(a.number),helperText:i.number&&a.number}))}),(0,w.jsx)(j.Z,{type:"submit",disabled:n,variant:"contained",sx:{width:"170px",height:"40px",margin:"25px auto",display:"flex"},onClick:t,children:n?(0,w.jsx)(p.Z1,{visible:!0,height:16,width:70,color:"#4fa94d",ariaLabel:"three-circles-loading"}):"Add contact"})]})}})},y=t(4942),L=t(3457),O=t(9836),S=t(3382),A=t(8745),B=t(618),P=t(9281),F=t(6890),_=t(5855),z=t(5527),H=d.Z.div(i||(i=(0,l.Z)(["\n  width: 1100px;\n  margin: 20px auto;\n"]))),I=t(1634),N=t(5861),T=t(9439),q=t(4687),E=t.n(q),J=t(2791),M=function(e){var n=e.id,t=(0,m.I0)(),r=(0,J.useState)(!1),i=(0,T.Z)(r,2),o=i[0],a=i[1],c=function(){var e=(0,N.Z)(E().mark((function e(){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(!0),e.prev=1,e.next=4,t((0,v.Jn)(n));case 4:s.Am.success("Contact is removed!",{position:"top-center",autoClose:1e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.log(e.t0);case 10:return e.prev=10,a(!1),e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[1,7,10,13]])})));return function(){return e.apply(this,arguments)}}();return(0,w.jsx)(j.Z,{type:"submit",onClick:c,disabled:o,variant:"contained",sx:{width:"100px",height:"30px",marginLeft:"15px"},children:o?(0,w.jsx)(p.Z1,{visible:!0,height:15,width:40,color:"#4fa94d",ariaLabel:"three-circles-loading"}):"Delete"})},R=(0,L.Z)(A.Z)((function(e){var n,t=e.theme;return n={},(0,y.Z)(n,"&.".concat(B.Z.head),{backgroundColor:"#1976d2",color:t.palette.common.white,fontSize:20}),(0,y.Z)(n,"&.".concat(B.Z.body),{fontSize:20}),n})),W=(0,L.Z)(_.Z)((function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}})),D=function(){var e=(0,m.v9)(x),n=(0,m.v9)(I.B8),t=null===e||void 0===e?void 0:e.filter((function(e){return e.name.toLowerCase().includes(n.toLowerCase())}));return(0,w.jsx)(H,{children:(0,w.jsx)(P.Z,{component:z.Z,children:(0,w.jsxs)(O.Z,{children:[(0,w.jsx)(F.Z,{children:(0,w.jsxs)(_.Z,{children:[(0,w.jsx)(R,{children:"Name"}),(0,w.jsx)(R,{align:"right",children:"Number"})]})}),(0,w.jsx)(S.Z,{children:t.map((function(e){return(0,w.jsxs)(W,{children:[(0,w.jsx)(R,{component:"th",scope:"row",children:e.name}),(0,w.jsxs)(R,{align:"right",children:[e.number,(0,w.jsx)(M,{id:e.id},e.id)]})]},e.id)}))})]})})})},G=function(){var e=(0,m.I0)();return(0,w.jsx)("div",{children:(0,w.jsx)(Z.Z,{label:"Find contacts by name",type:"text",name:"name",variant:"outlined",sx:{width:"530px",display:"flex",margin:"25px auto"},onChange:function(n){var t=n.target.value.trim();e((0,I.w2)(t))}})})},V=t(890),$=function(){var e=(0,m.I0)(),n=(0,m.v9)(g);return(0,J.useEffect)((function(){e((0,v.m$)())}),[e]),n&&s.Am.error("Failed to get contacts",{position:"top-center",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(V.Z,{variant:"h1",component:"h1",sx:{fontSize:"40px",marginTop:"100px",textAlign:"center"},children:"Phonebook"}),(0,w.jsx)(k,{}),(0,w.jsx)(V.Z,{variant:"h2",component:"h2",sx:{fontSize:"36px",marginTop:"40px",textAlign:"center"},children:"Contacts"}),(0,w.jsx)(G,{}),(0,w.jsx)(D,{})]})}}}]);
//# sourceMappingURL=958.4946bcdf.chunk.js.map